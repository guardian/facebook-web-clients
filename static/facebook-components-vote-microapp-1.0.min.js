(function(){var e=window.baseURI||"http://facebook-web-clients.appspot.com",t=window.baseAPI||"http://gu-facebook-actions.appspot.com",n=e+"/static/facebook-components-vote-1.0.css";document.createStyleSheet?document.createStyleSheet(n):jQuery('<link rel="stylesheet" type="text/css" href="'+n+'" />').appendTo("head");var r;jQuery.browser.msie&&jQuery.browser.version<9?r="/static/facebook-components-vote-ie-1.0.js":r="/static/facebook-components-vote-1.0.js",require([e+"/static/facebook-authorizer-1.0.js",e+"/static/facebook-ui-donut-1.0.js",e+r],function(){function n(){for(var t=0,n=e.length;t<n;t++)if(jQuery(e[t].selector).length)return e[t];throw new Error("No suitable component found on page for Facebook component")}var e=[{selector:".ma-placeholder-facebook-agree-disagree-with-opinion-component",type:guardian.facebook.VoteModel.AGREE_WITH_OPINION},{selector:".ma-placeholder-facebook-agree-disagree-with-headline-component",type:guardian.facebook.VoteModel.AGREE_WITH_HEADLINE},{selector:".ma-placeholder-facebook-think-headline-likely-unlikely-component",type:guardian.facebook.VoteModel.THINK_LIKELY}],r=n(),i=guardian.facebook.Authorizer.getInstance(),s=new guardian.facebook.VoteModel(r.type),o=new guardian.facebook.VoteComponent(r.selector,s,guardian.ui.CanvasDonut,guardian.facebook.BigNumberFormatter);new guardian.facebook.LoginButtonView(".vote-component .social-summary",i,s),new guardian.facebook.TitleView(".vote-component .vote-title",s),controller=new guardian.facebook.VoteController(s,o,i),controller.initialise(t)})})();